<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Carte Constellation</title>

<style>
/* ----------------------------------------------------
   GLOBAL
---------------------------------------------------- */
html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at center, #070a16 0%, #03040c 55%, #000208 100%);
  font-family: "Inter", "Segoe UI", sans-serif;
  user-select: none;
}

/* ----------------------------------------------------
   BACKGROUND LAYERS ‚Äî COSMIC PARALLAX (sans shrink)
---------------------------------------------------- */
.bg-layer {
  position: fixed;
  top: 0; left: 0;
  width: 140%;
  height: 140%;
  pointer-events: none;
  opacity: 0.25;
  mix-blend-mode: screen;
  filter: blur(6px);
  z-index: -5;
  transform: scale(1) !important; /* Emp√™che tout shrink */
}

/* Grande n√©buleuse color√©e */
#nebula1 {
  background: url("https://i.imgur.com/gYWJxQx.png") center/cover no-repeat;
  animation: float1 220s linear infinite;
  opacity: 0.22;
}

/* Deuxi√®me couche plus fine (bleu glac√©) */
#nebula2 {
  background: url("https://i.imgur.com/Mjyudtj.png") center/contain repeat;
  animation: float2 280s linear infinite;
  opacity: 0.15;
}

/* Petites poussi√®res stellaires */
#stardust {
  background: url("https://i.imgur.com/7Nt6hWe.png") repeat;
  animation: float3 340s linear infinite;
  opacity: 0.08;
}

/* Animations corrig√©es : plus de scale */
@keyframes float1 {
  from { transform: translate(0,0); }
  to   { transform: translate(-300px,-200px); }
}

@keyframes float2 {
  from { transform: translate(0,0); }
  to   { transform: translate(400px,300px); }
}

@keyframes float3 {
  from { transform: translate(0,0); }
  to   { transform: translate(-800px,500px); }
}

/* ----------------------------------------------------
   FOREGROUND SPARKLE ‚Äî realistic stars
---------------------------------------------------- */
.star {
  position: absolute;
  width: 2px;
  height: 2px;
  border-radius: 50%;
  background: white;
  opacity: 0.8;
  filter: drop-shadow(0 0 6px white);
  animation: sparkle 3s ease-in-out infinite alternate;
}

@keyframes sparkle {
  from { opacity: 0.25; transform: scale(0.4); }
  to   { opacity: 1; transform: scale(1.5); }
}

/* Plusieurs profondeurs */
.star.layer1 { opacity: .7; }
.star.layer2 { opacity: .45; transform: scale(.6); }
.star.layer3 { opacity: .25; transform: scale(.3); filter: blur(1px); }

/* ----------------------------------------------------
   COSMIC SWIRL ‚Äî volumetric halo
---------------------------------------------------- */
.swirl {
  position: fixed;
  width: 800px;
  height: 800px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(90,130,255,0.15), transparent 70%);
  filter: blur(120px);
  pointer-events: none;
  z-index: -2;
  animation: swirlmove 90s ease-in-out infinite alternate;
}

@keyframes swirlmove {
  from { transform: translate(-10%, -10%); }
  to   { transform: translate(20%, 15%); }
}

/* ----------------------------------------------------
   CANVAS (CONSTELLATION)
---------------------------------------------------- */
#canvas {
  position: absolute;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  display: block;
  filter:
    drop-shadow(0 0 6px #c3d7ff)
    drop-shadow(0 0 15px #5f8dff)
    drop-shadow(0 0 28px #2148ff);
}

/* ----------------------------------------------------
   POPUP INFO
---------------------------------------------------- */
.popup {
  position: absolute;
  background: rgba(255,255,255,0.13);
  backdrop-filter: blur(16px) saturate(190%);
  color: #e8edff;
  padding: 14px 22px;
  border-radius: 14px;
  box-shadow: 0 12px 40px rgba(0,0,0,0.55);
  display: none;
  pointer-events: none;
  transition: opacity .18s ease-out, transform .18s ease-out;
  transform: translate(-50%, -160%);
  font-size: 16px;
  letter-spacing: 0.65px;
  border: 1px solid rgba(255,255,255,0.25);
  min-width: 120px;
  text-align: center;
}

/* Glow au-dessus */
.popup::after {
  content: "";
  position: absolute;
  top: -7px; left: 50%;
  transform: translateX(-50%);
  width: 16px;
  height: 16px;
  background: #dce7ff;
  border-radius: 50%;
  filter: blur(9px);
  opacity: 0.9;
}

/* ----------------------------------------------------
   TITLE
---------------------------------------------------- */
.title {
  position: fixed;
  top: 22px;
  left: 50%;
  transform: translateX(-50%);
  color: #e0e8ff;
  font-size: 30px;
  letter-spacing: 1.3px;
  font-weight: 300;
  text-shadow: 0 0 12px rgba(150,170,255,1);
  pointer-events: none;
}

/* Back button */
.back-btn {
  position: fixed;
  top: 20px;
  left: 20px;
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.2);
  color: #e0e8ff;
  padding: 8px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.3s ease;
  z-index: 100;
}

.back-btn:hover {
  background: rgba(255,255,255,0.2);
  border-color: rgba(255,255,255,0.4);
}
</style>
</head>

<body>

<!-- Background cosmic layers -->
<div class="bg-layer" id="nebula1"></div>
<div class="bg-layer" id="nebula2"></div>
<div class="bg-layer" id="stardust"></div>

<div class="swirl"></div>

<button class="back-btn" onclick="window.location.href='index.html'">‚Üê Retour</button>

<div class="title">üåå Carte des Amis ‚Äî Constellation</div>

<!-- ----------------------------------------------------
     STAR GENERATION (3 layers)
---------------------------------------------------- -->
<script>
function createStars(count, cls) {
  for (let i = 0; i < count; i++) {
    const s = document.createElement("div");
    s.className = "star " + cls;
    s.style.top = Math.random() * 100 + "vh";
    s.style.left = Math.random() * 100 + "vw";
    s.style.animationDelay = (Math.random() * 4) + "s";
    document.body.appendChild(s);
  }
}

createStars(120, "layer1");
createStars(200, "layer2");
createStars(260, "layer3");
</script>

<canvas id="canvas"></canvas>
<div class="popup" id="popup"></div>

<script src="constellation.js"></script>

</body>
</html>
